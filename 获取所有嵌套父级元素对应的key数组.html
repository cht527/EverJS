<html>
<head>
    <meta charset="UTF-8">
    <title>获取嵌套父级元素key数组</title>
    <style>
	</style>
</head>

<body>
<p>给定一个子元素的某一项，获取所有父级元素对应的项，组成数组</p>
<pre>
var list=[{
		    "id": 25,
		    "pid": -1,
		    "title": "测试：10",
		    "children": [{
					     "id": 200,
					     "pid": 25,
					     "title": "测试：9",
					     "children": [{
					            "id": 206,
					            "pid": 200,
					            "title": "测试：9",
					            "children": [{
					                  "id": 70,
					                  "pid": 206,
					                  "title": "测试：9",
					                  "children": [],
					                  "isParent": false,
					                  "isChild": false
					            	}],
					            "isParent": false,
					            "isChild": false
					      }],
					      "isParent": false,
					      "isChild": false
					  }],
				"isParent": false,
				"isChild": false
			}, {
				"id": 71,
				"pid": -1,
				"title": "测试：9",
				"children": [],
				"isParent": false,
				"isChild": false
			}
];

------------------------------------------------------------------

<code>
var map={};var finalKeys=[];
function scan(obj){
	map[obj.id]=obj;
	var children=obj.children;
	if(children && children.length){
		for (var i = 0; i < children.length; i++) {
			scan(children[i])
		}
	}

}
function find(id){
	finalKeys.unshift(id);
	let obj=map[id];
	let pid = obj.pid;

	if(map[pid]){
		find(pid)
	}
}
function findKeys(list,id) {
	for (var i = 0; i < list.length; i++) {
		scan(list[i])
	}
	find(id)
}
findKeys(list,71)
console.log(finalKeys)
</code>

</pre>
</div>

<script>
var list=[{
		    "id": 25,
		    "pid": -1,
		    "title": "测试：1",
		    "children": [{
					     "id": 200,
					     "pid": 25,
					     "title": "测试：2",
					     "children": [{
					            "id": 206,
					            "pid": 200,
					            "title": "测试：3",
					            "children": [{
					                  "id": 70,
					                  "pid": 206,
					                  "title": "测试：4",
					                  "children": [],
					                  "isParent": false,
					                  "isChild": false
					            	}],
					            "isParent": false,
					            "isChild": false
					      }],
					      "isParent": false,
					      "isChild": false
					  }],
				"isParent": false,
				"isChild": false
			}, {
				"id": 71,
				"pid": -1,
				"title": "测试：5",
				"children": [],
				"isParent": false,
				"isChild": false
			}
];
var map={};var finalKeys=[];
function scan(obj){
	map[obj.id]=obj;
	var children=obj.children;
	if(children && children.length){
		for (var i = 0; i < children.length; i++) {
			scan(children[i])
		}
	}

}
function find(id){
	finalKeys.unshift(id);
	let obj=map[id];
	let pid = obj.pid;

	if(map[pid]){
		find(pid)
	}
}
function findKeys(list,id) {
	for (var i = 0; i < list.length; i++) {
		scan(list[i])
	}
	find(id)
}
findKeys(list,71)
console.log(finalKeys)
</script>

</body> 
</html>